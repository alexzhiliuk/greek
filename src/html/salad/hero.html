<div class="hero" id="scrollContainer">
    <div class="hero__content">
        <div class="hero__text container">
            <div class="hero__title">
                <img src="@img/hero/Logo.svg" alt="">
                <img src="@img/hero/Logo_white.svg" class="_white" alt="">
            </div>
            <div class="hero__subtitle h3 h3_italic tac">by Greek Legend</div>
        </div>
        <div class="hero__image" id="zoomImage"></div>
    </div>
</div>
<!-- <script src="https://cdn.jsdelivr.net/npm/gsap@3.12.5/dist/gsap.min.js"></script>
				<script src="https://cdn.jsdelivr.net/npm/gsap@3.12.5/dist/ScrollTrigger.min.js"></script>

				<script>
window.addEventListener("load", () => {
  document.body.classList.remove("_lock");
});

	gsap.registerPlugin(ScrollTrigger);

gsap.to(".hero__image", {
  scale: 5,              // до какого значения — можно 1.2 / 1.5
  ease: "none",
  scrollTrigger: {
    trigger: ".hero",
    start: "top top",
    end: "bottom top",   // длительность скролла
    scrub: true,
    pin: true,   
	onLeave: () => {
      document.querySelector(".hero__text").classList.add("_white");
    },

    // когда пользователь скроллит обратно вверх → убираем класс
    onEnterBack: () => {
      document.querySelector(".hero__text").classList.remove("_white");
    }        // фиксация секции
  }
});
window.addEventListener("load", () => {
  ScrollTrigger.refresh();
 document.querySelector('.hero').classList.add('_vis')
});
</script> -->
<!-- <div style="height: 100vh;"></div> -->

<script>
    const scrollContainer = document.getElementById('scrollContainer');
    const image = document.getElementById('zoomImage');
    const scaleDisplay = document.getElementById('scale');
    const heroSection = document.querySelector('.hero');
    const textSection = document.querySelector('.hero__text');

    const isMobile = window.innerWidth <= 576;
    // Параметры масштабирования
    const minScale = 1;
    const maxScale = isMobile ? 1.6 : 5;

    const imageRatio = image.offsetWidth / image.offsetHeight;
    const imageScrollHeight = (window.innerWidth / imageRatio - window.outerHeight) / 2;

    let scrollDistance;
    if (isMobile) {
        scrollDistance = window.innerHeight / 10;
        scrollContainer.style.height = `${window.innerHeight + scrollDistance}px`;
    } else {
        scrollDistance = window.innerHeight * 2;
        scrollContainer.style.height = `${window.innerHeight + scrollDistance - (image.offsetHeight * 2)}px`;
    }




    function handleScroll() {
        const scrollY = window.scrollY;

        if (scrollY <= 1) {
            image.style.transform = `scale(1)`;
            image.style.borderRadius = `18px`;
            image.style.translate = `0% 0%`;
            textSection.classList.remove("_white");
            return;
        }
        const heroHeight = heroSection.offsetHeight;

        // Процент прокрутки секции героя (0 до 1)
        let zoomProgress;
        if (isMobile) {
            zoomProgress = Math.min(scrollY / (scrollDistance * 2), 1);
        } else {
            zoomProgress = Math.min(scrollY / (scrollDistance / 2), 1);
        }
        const scrollProgress = Math.min((scrollY - (scrollDistance / 2)) / (scrollDistance / 2), 1);

        // Вычисляем текущий масштаб
        const currentScale = minScale + (maxScale - minScale) * zoomProgress;

        if ((image.offsetWidth * currentScale) >= (window.innerWidth - 20)) {
            textSection.classList.add("_white")
            console.log("add class")
        }
        else {
            textSection.classList.remove("_white")
            console.log("remove class")
        }

        // Применяем трансформацию
        image.style.transform = `scale(${currentScale})`;
        image.style.borderRadius = `${18 * (1 - zoomProgress)}px`;

        // console.log(scrollProgress, imageScrollHeight)
        // if (scrollProgress && scrollProgress > 0 && !isMobile) { image.style.translate = `-50% calc(-50% - ${Math.min(imageScrollHeight * scrollProgress, imageScrollHeight)}px` }
        if (scrollProgress && scrollProgress > 0 && !isMobile) { image.style.translate = `0% calc(-0px` }
    }

    window.addEventListener('scroll', handleScroll);
    handleScroll(); // Инициализация
</script>